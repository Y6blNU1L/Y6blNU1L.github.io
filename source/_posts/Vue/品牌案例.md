---
title: 品牌案例
date: 2020-05-17 11:48:28
tag: Vue
---

# 品牌案例

```html

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./vue.js"></script>
    <link rel="stylesheet" href="./bootstrap.min.css">
    <!-- Vue尽量不要使用jquery -->
    <title>品牌案例</title>
</head>

<body>
    <div id="app">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">添加品牌</h3>
            </div>
            <div class="panel-body">
                <div class="panel-body form-inline">
                    <label>
                        ID:
                        <input type="text" class="form-control" v-model="Id">
                    </label>
                    <label>
                        Name:
                        <input type="text" class="form-control" v-model="Name">
                    </label>
                    <input type="button" value="添加" class="btn btn-primary" @click="add">
                    <label>
                        搜索关键字:
                        <input type="text" class="form-control" v-model="keywords">
                    </label>
                </div>
            </div>
        </div>

        <table class="table table-bordered table-hover table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Ctime</th>
                    <th>Operation</th>
                </tr>
            </thead>
            <tbody>
                <!-- <tr v-for="item in list" ::key="item.id"> -->
                <!-- 定义一个search方法，通过传参的形式来进行查找 -->
                <tr v-for="item in search(keywords)" ::key="item.id">
                    <td>{{item.id}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.ctime}}</td>
                    <td><a href="#" @click.prevent="del(item.id)">删除</a></td>
                </tr>
            </tbody>
        </table>

    </div>
    <script>
        var vm = new Vue({
            el: '#app',
            data: {
                Id: '',
                Name: '',
                keywords: '',
                list: [{
                    id: 1,
                    name: '奔驰',
                    ctime: new Date(),

                }, {
                    id: 2,
                    name: '宝马',
                    ctime: new Date(),

                }, {
                    id: 3,
                    name: '法拉利',
                    ctime: new Date(),

                }, ]
            },
            methods: {
                add() {
                    this.list.push({
                        id: this.Id,
                        name: this.Name,
                        ctime: new Date()
                    })
                    this.Id = this.Name = ''
                },
                del(id) {
                    // 方法一  some方法
                    // this.list.some((item, i) => {
                    //     if (item.id == id) {
                    //         this.list.splice(i, 1)
                    //         return true;
                    //     }
                    // })

                    // 方法二  使用findIndex方法
                    var index = this.list.findIndex(item => {
                            if (item.id == id) {
                                return true;
                            }
                        })
                        // 从下标开始查找，删除几个元素
                    this.list.splice(index, 1)

                },
                search(keywords) {
                    // 方法一
                    // var newList = []
                    // this.list.forEach(item => {
                    //     // 不包含为-1
                    //     if (item.name.indexOf(keywords) != -1) {
                    //         newList.push(item)
                    //     }
                    // })
                    // return newList


                    // 方法二
                    return this.list.filter(item => {
                        // es6语法
                        if (item.name.includes(keywords)) {
                            return item;
                        }
                    })

                }
            },
        })
    </script>
</body>

</html>
```


# 全局过滤器


```html

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./vue.js"></script>
    <link rel="stylesheet" href="./bootstrap.min.css">
    <!-- Vue尽量不要使用jquery -->
    <title>过滤器</title>
</head>

<body>
    <div id="app">
        <div>{{msg | msgFormat}}</div>
        <div>{{msg | msgFormat2('搞笑')}}</div>
        <div>{{msg | msgFormat2('搞笑') | msgFormat3}}</div>
    </div>
    <script>
        // {{name | 过滤器的名称 }}
        // 过滤器的function第一个参数是管道符前面传来的数据
        // Vue.filter('过滤器的名称',function(){})
        Vue.filter('msgFormat', function(msg) {

            return msg.replace(/单纯/g, '邪恶')
        });
        // 过滤器传参形式,可以传多个参数
        Vue.filter('msgFormat2', function(msg, arg) {

            return msg.replace(/单纯/g, arg)
        });
        // 可使用多个过滤器
        Vue.filter('msgFormat3', function(msg) {

            return msg.replace(/6/g, '7')
        })



        var vm = new Vue({
            el: '#app',
            data: {
                msg: '哈哈哈哈单纯6666'
            },
            methods: {

            },
        });
    </script>
</body>

</html>
```


# 私有过滤器

```html

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./vue.js"></script>
    <link rel="stylesheet" href="./bootstrap.min.css">
    <!-- Vue尽量不要使用jquery -->
    <title>过滤器</title>
</head>

<body>
    <!-- <div id="app">
        <div>{{msg | msgFormat}}</div>
        <div>{{msg | msgFormat2('搞笑')}}</div>
        <div>{{msg | msgFormat2('搞笑') | msgFormat3}}</div>
    </div>

    <br>
    <br>
    <br> -->
    <div id="app2">
        <div>{{msg | msg2Format}}</div>
        <div>{{msg | msg2Format2('搞笑')}}</div>
        <div>{{msg | msg2Format2('搞笑') | msg3Format}}</div>
    </div>


    <script>
        // {{name | 过滤器的名称 }}
        // 过滤器的function第一个参数是管道符前面传来的数据
        // Vue.filter('过滤器的名称',function(){})
        // Vue.filter('msgFormat', function(msg) {

        //     return msg.replace(/单纯/g, '邪恶')
        // });
        // // 过滤器传参形式,可以传多个参数
        // Vue.filter('msgFormat2', function(msg, arg) {

        //     return msg.replace(/单纯/g, arg)
        // });
        // // 可使用多个过滤器
        // Vue.filter('msgFormat3', function(msg) {

        //     return msg.replace(/6/g, '7')
        // })



        // var vm = new Vue({
        //     el: '#app',
        //     data: {
        //         msg: '哈哈哈哈单纯6666'
        //     },
        //     methods: {

        //     },
        // });

        var vm2 = new Vue({
            el: '#app2',
            data: {
                msg: '22222哈哈哈哈单纯6666'
            },
            methods: {

            },
            // 私有过滤器
            filters: {
                msg2Format: function(msg) {
                    return msg.replace(/单纯/g, '邪恶')
                },
                msg2Format2: function(msg, arg) {
                    return msg.replace(/单纯/g, arg)
                },
                msg3Format: function(msg) {
                    return msg.replace(/2/g, '7')
                }

            }
        });
    </script>
</body>

</html>
```

# 自定义按键修饰符

```html

<input type="text" class="form-control" v-model="Name" @keyup.f2="add">

<script>
// 键盘标识 :键盘对应的标识码
        Vue.config.keyCodes = {
            'f2': 113
        }
        var vm = new Vue({
            el: '#app',
            data: {

            },
            methods: {

            },
        })
    </script>
```

# 自定义全局指令让文本框获取焦点

```html

<input type="text" class="form-control" v-model="Name"  v-focus v-color>

<!-- 颜色参数传递 -->
<input type="text" class="form-control" v-model="Name" v-focus v-color="'green'">

<script>

        // 参数一: 指令名称，系统自动加 v-
        // 参数二: 是一个对象
        Vue.directive('focus', {
            // 绑定 参数第一个永远是el,触发一次
            bind: function(el) {
                el.focus()

            },
            // 插入到DOM时触发，触发一次
            inserted: function(el) {
                el.focus()
            },
            // 当VNode更新时触发，触发多次
            updated: function(el) {
                
            }
        });

        // 自定义设置字体样式
        Vue.directive("color", {
            bind: function(el) {
                el.style.color = 'red'
            }
        });

        // 参数传递
        Vue.directive("color", {
            bind: function(el,binding) {
                el.style.color=binding.value
            }
        });


        var vm = new Vue({
            el: '#app',
            data: {

            },
            methods: {

            },
            // 定义私有的指令
            directive: {
                'fontweight': {
                    bind: function(el, binding) {
                        el.style.fontweight = binding, value;
                    }
                }
            }
        })
    </script>
```
