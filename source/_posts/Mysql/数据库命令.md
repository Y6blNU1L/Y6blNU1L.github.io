---
title: 数据库命令
date: 2019-09-05 19:44:01
tags: Mysql
---

# MySQL命令学习笔记

`mysql -uroot  -p123456`

`create database <库名>character set gbk;`

`create table <表名>();`

`create table <表名> (字段1 enum('a','b','c') 字段2 set('a','b','c'))    //字段1 枚举类型，字段2 集合类型`

`desc  <表名>;   //描述表字段数据类型`

`insert into <表名>(字段名) values(对应值);`

`select *from <表名>;`

`select  *from <表名> where <条件>;   //（*代表所列）`

`update <表名> set 列名称=新值 where <条件>;    //当...时更新某列的值`

`delete from <表名> where <条件>   //当...时删除一行`

`alter table <表名> add <列名> <列数据类型>  //插入列`

`slect *from <表名> order by 字段     //正序排序`

`slect *from <表名> order by 字段 desc    //倒叙排序`

`slect *from <表名> order by 2 desc    //第二个字段倒叙排序，正序同理`

`slect *from <表名> order by 字段 desc limit 2   //返回前两行`

子查询
`slect *from <表名1> where  <字段> in (select <字段> from <表名2> )   //返回在某个字段的两个表中共有的部分`

`slect *from <表名2> a where exists(select <字段> from <表名2> b where a.字段=b.字段)   //如果exists有，返回真，否则返回假`

连接查询
`select a.字段,b.字段 from <表名1> a inner join <表名2> b on 1.字段=b.字段     //连接另外一个表并返回相同字段的值`

记录联合(并集)
`select * from <表名1> union select *from <表名2>    //先去重，后重名`

`select * from <表名1> union all select *from <表名2>    //两表并集`
```	alter table mytest add sname tinyint unsigned  not null default 0;
	alter table mytest add snum smallint(5) zerfill not null default 0;
		smallint(5) :snum这列数值统一补零，而且补到5位
	 总结：smallint(M) ：M表示补0的宽度，和zerfill配合使用才有意义，并且同时是unsigned类型
```

`alter table <表名> add <列名> <列数据类型> after <插入某列的名>   //在某列后面插入新的一列`

`alter table <表名> change <列名> <新列名> <列数据类型>   //改变某列名称`

`alter table <表名> drop <列名>     //删除某列`

`alter table <表名> rename <新表名>   //重命名`

`drop table <表名>;  //删除表`

`drop databases <表名>;  //删除表`

Find_in_set()的应用
`select *from <表名> where xxxx and find_in_set(left(字段，1),'a,b,c)=1`

如果一个字段为空，查询的语句为
`select *from <表名> where 字段 is null `

如果一个字段为非空，查询的语句为
`select *from <表名> where 字段 is not null `

模糊查找
`select *from <表名> where 字段 like 'a%'    //将开头为a的值全部查找出来`

查看表结构
`show create table <表名>`

```
数据型			(1字节8bit)
	整型				占据空间		存储范围
	   Tinyint    	1字节		-128 至 127 , 0 至 255
	   Smallint		2字节
	   Mediuint		3字节
	   int   		4字节
	   bigint		8字节

总结： 1个字节8个位 (无符号)  0           -->    255  (2^8-1)

				 (有符号) -128 (-2^7)   -->    127  (2^7-1)
```
