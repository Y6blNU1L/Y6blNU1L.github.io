---
title: 网页语音播放两种方式
date: 2020-06-11 23:01:47
tags: html
---

# windows系统自带

```html

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <title>Document</title>
    <script type="text/javascript">
        var speaker = new window.SpeechSynthesisUtterance();
        var speakTimer,
            stopTimer;

        // 开始朗读
        function speakText() {
            var context = document.getElementById('ttsText');
            clearTimeout(speakTimer);
            window.speechSynthesis.cancel();
            speakTimer = setTimeout(function () {
                speaker.volume = 0.9
                speaker.text = context.innerHTML;
                window.speechSynthesis.speak(speaker);
            }, 200);
        }
        // 停止朗读
        function stopSpeak() {
            clearTimeout(stopTimer);
            clearTimeout(speakTimer);
            stopTimer = setTimeout(function () {
                window.speechSynthesis.cancel();
            }, 20);
        }
    </script>

</head>

<body>
    <p id="ttsText">
        love
    </p>
    <div>
        <input type="button" id="start_btn" onclick="speakText()" value="播放">
        <input type="button" id="cancel_btn" onclick="stopSpeak()" value="取消">
    </div>


</body>

</html>


```


#  百度语音合成语音

```html
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>百度语音测试</title>
    <script type="text/javascript">
        function doTTS() {
            var ttsDiv = document.getElementById('bdtts_div_id');
            var ttsAudio = document.getElementById('tts_autio_id');
            var ttsText = document.getElementById('ttsText').value;

            // 这样就可实现播放内容的替换了
            ttsDiv.removeChild(ttsAudio);
            var au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
            var sss = '<source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=9&text=' + ttsText + '" type="audio/mpeg">';
            var eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
            var au2 = '</audio>';
            ttsDiv.innerHTML = au1 + sss + eee + au2;

            ttsAudio = document.getElementById('tts_autio_id');

            ttsAudio.play();
        }
    </script>
</head>

<body>
    <div>
        <input type="text" id="ttsText">
        <input type="button" id="tts_btn" onclick="doTTS()" value="播放">
    </div>
    <div id="bdtts_div_id">
        <audio id="tts_autio_id" autoplay="autoplay">
            <source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=9&text=播报内容"
                type="audio/mpeg">
            <embed id="tts_embed_id" height="0" width="0" src="">
        </audio>
    </div>
</body>

</html>


```
